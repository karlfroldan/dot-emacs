IMAPAccount gmail
Host imap.gmail.com
User karlfroldan@gmail.com
PassCmd "gpg -q --for-your-eyes-only --no-tty -d ~/.emacs.d/email/.mbsyncpass.karlfroldan_at_gmail.com.gpg"
AuthMechs LOGIN
TLSType IMAPS
TLSVersions +1.2
CertificateFile /etc/ssl/certs/ca-certificates.crt

# Remote storage is where we get the emals from. - gmail
# Local storage is where we store it on our computer.

# REMOTE STORAGE
IMAPStore gmail-remote
Account gmail

# LOCAL STORAGE (Create directories with `mkdir -p ~/Mail/gmail`)
MaildirStore gmail-local
Path ~/Mail/gmail/
Inbox ~/Mail/gmail/INBOX
Subfolders Verbatim

# Each connection is a link between remote and local
Channel gmail-inbox
Far :gmail-remote:
Near :gmail-local:
Patterns "INBOX"
Create Both
Expunge Both
SyncState *

Channel gmail-sent
Far :gmail-remote:"[Gmail]/Sent Mail"
Near :gmail-local:"Sent"
Create Both
Expunge Both
SyncState *

Channel gmail-starred
Far :gmail-remote:"[Gmail]/Starred"
Near :gmail-local:"Starred"
Create Both
Expunge Both
SyncState *

Channel gmail-all
Far :gmail-remote:"[Gmail]/All Mail"
Near :gmail-local:"All"
Create Both
Expunge Both
SyncState *

Channel gmail-trash
Far :gmail-remote:"[Gmail]/Trash"
Near :gmail-local:"Trash"
Create Both
Expunge Both
SyncState *

Channel gmail-draft
Far :gmail-remote:"[Gmail]/Drafts"
Near :gmail-local:"Drafts"
Create Both
Expunge Both
SyncState *

Channel gmail-haskell-digest
Far :gmail-remote:"Mailing Lists/Haskell Digest"
Near :gmail-local:"mailing-lists/haskell-digest"
Create Both
Expunge Both
SyncState *

Group gmail
Channel gmail-inbox
Channel gmail-sent
Channel gmail-trash
Channel gmail-all
Channel gmail-starred
Channel gmail-draft
Channel gmail-haskell-digest